# ============================
# .htaccess для backend/api/
# ============================

<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # RewriteRule ^ index.php [QSA,L]
</IfModule>

# ============================
# CORS і заголовки
# ============================
<IfModule mod_headers.c>
    SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1

    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# ============================
# Захист службових файлів
# ============================
<FilesMatch "(\.env|composer\.json|composer\.lock|config\.php|db\.php|autoload\.php|phpunit\.xml|README\.md)">
    Require all denied
</FilesMatch>

# Забороняємо індексацію директорій
Options -Indexes

# ============================
# MIME типи (JSON)
# ============================
AddType application/json .json
